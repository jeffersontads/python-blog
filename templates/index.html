{% extends 'base.html' %} {% block title %} Jefferson Sotto {% endblock %} {%
block body %}

<h1 class="title mt-5">PAINEL ADMINISTRATIVO - CADASTRAR NOTÍCIAS</h1>
<p>Clique no botão abaixo e cadastre uma novo notícia.</p>

<a href="{{ url_for('input_data') }}" class="btn btn-primary btn-lg mt-3 mb-3"
  >CADASTRAR NOVA NOTÍCIA
</a>
{% with messages = get_flashed_messages() %} {% if messages %} {% for message in
messages %}
<div
  class="alert alert-success alert-dismissible fade show mt-3 mb-3"
  role="alert"
>
  <strong>Sucesso!</strong> {{message}}
  <button
    type="button"
    class="btn-close"
    data-bs-dismiss="alert"
    aria-label="Close"
  ></button>
</div>
{% endfor %} {% endif %} {% endwith %}

<hr />

<h1 class="title mt-5 text-black-50 text-center">LISTA DE NOTICIAS</h1>

<table class="table responsive mt-5">
  <thead class="thead-light">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">TITULO</th>
      <th scope="col">DATA/HORA</th>
      <th scope="col">RESUMO</th>
      <th scope="col">CATEGORIA</th>
      <th scope="col">AUTOR</th>
      <th scope="col">AÇÃO</th>
    </tr>
  </thead>

  <tbody>
    {% for noticia in data %}
    <tr>
      <th scope="row">{{loop.index}}</th>
      <td>{{noticia.titulo}}</td>
      <td>{{noticia.date}}</td>
      <td>{{noticia.resumo}}</td>
      <td>{{noticia.categoria}}</td>
      <td>{{noticia.autor}}</td>
      <td>
        <a
          href="{{ url_for('edit_data', id=noticia.id) }}"
          class="btn btn-secondary btn-sm"
          >Editar</a
        >
        <a
          href="{{ url_for('delete', id=noticia.id) }}"
          class="btn btn-danger btn-sm"
          onclick="return confirm('Tem certeza que deseja deletar esta notícia?')"
          >Deletar</a
        >
        <a href="#" class="btn btn-primary btn-sm">Visualizar noticia</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
